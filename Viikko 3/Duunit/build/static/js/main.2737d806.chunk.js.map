{"version":3,"sources":["App.js","index.js"],"names":["App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","tryName","setTryName","_useState7","_useState8","newTele","setNewTele","_useState9","_useState10","showAll","setShowAll","useEffect","console","log","axios","get","then","response","data","length","namesToShow","filter","pers","name","toUpperCase","indexOf","exterminatus","id","delete","concat","react_default","a","createElement","value","onChange","event","target","onSubmit","preventDefault","i","content","alert","number","nameObject","post","responseData","type","map","key","onClick","notes","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2737d806.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [tryName, setTryName] = useState(\"\");\n  const [newTele, setNewTele] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n\n  const hook = () => {\n    console.log(\"effect\");\n    axios.get(\"http://localhost:3001/api/persons\").then(response => {\n      console.log(\"promise fulfilled\");\n      setPersons(response.data);\n    });\n  };\n\n  useEffect(hook, []);\n\n  console.log(\"render\", persons.length, \"persons\");\n\n  const namesToShow = showAll\n    ? persons.filter(\n        pers => pers.name.toUpperCase().indexOf(tryName.toUpperCase()) > -1\n      )\n    : persons.filter(\n        pers => pers.name.toUpperCase().indexOf(tryName.toUpperCase()) > -1\n      );\n\n  const rows = () =>\n    namesToShow.map(pers => (\n      <div key={pers.id}>\n        <p>\n          {pers.name} {pers.number}{\" \"}\n        </p>{\" \"}\n        <button onClick={() => exterminatus(pers.id)}> poista </button>\n      </div>\n    ));\n\n  const exterminatus = id =>\n    axios.delete(`http://localhost:3001/api/persons/${id}`).then(response => {\n      console.log(\"Mission accomplished!\");\n    });\n\n  const addName = event => {\n    event.preventDefault();\n    for (var i = 0; i < persons.length; i++) {\n      if (persons[i].content === newName) {\n        alert(`${newName} on jo listassa!`);\n        return;\n      }\n      if (persons[i].number === newTele) {\n        alert(`${newTele} on jo listassa!`);\n        return;\n      }\n    }\n\n    const nameObject = {\n      name: newName,\n      number: newTele\n      //date: new Date().toISOString(),\n      //important: Math.random() > 0.5,\n    };\n\n    axios\n      .post(\"http://localhost:3001/api/persons\", nameObject)\n      .then(response => {\n        console.log(\"response ok\", { persons, responseData: response.data });\n        setPersons(persons.concat(response.data));\n        setNewName(\"\");\n      });\n  };\n\n  const handleNameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNameChange2 = event => {\n    setShowAll(!showAll);\n    console.log(event.target.value);\n    setTryName(event.target.value);\n    //persons.filter(\n    //  pers => pers.content.toUpperCase().indexOf(tryName.toUpperCase()) > -1\n    //);\n  };\n\n  const handleTeleChange = event => {\n    console.log(event.target.value);\n    setNewTele(event.target.value);\n  };\n\n  return (\n    <div>\n      <form>\n        rajaa näytettäviä:{\" \"}\n        <input value={tryName} onChange={handleNameChange2} />\n      </form>\n\n      <h2>Puhelinluettelo</h2>\n      <div>debug: {newName}</div>\n      <form onSubmit={addName}>\n        nimi: <input value={newName} onChange={handleNameChange} />\n        numero: <input value={newTele} onChange={handleTeleChange} />\n        <button type=\"submit\">lisää</button>\n      </form>\n\n      <h2>Numerot</h2>\n      <ul>{rows()}</ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport axios from \"axios\";\nconst baseUrl = '/api/persons';\n\naxios.get(baseUrl).then(response => {\n  const notes = response.data;\n  console.log(notes);\n});\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}