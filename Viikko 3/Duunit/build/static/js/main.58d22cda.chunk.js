(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(11),r=n.n(l),c=n(3),u=n(12),i=n(2),s=n.n(i),p=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(""),i=Object(c.a)(r,2),p=i[0],m=i[1],f=Object(a.useState)(""),g=Object(c.a)(f,2),d=g[0],b=g[1],v=Object(a.useState)(""),E=Object(c.a)(v,2),j=E[0],h=E[1],O=Object(a.useState)(!0),w=Object(c.a)(O,2),C=w[0],S=w[1];Object(a.useEffect)(function(){console.log("effect"),s.a.get("/api/persons").then(function(e){console.log("promise fulfilled"),l(e.data)})},[]),console.log("render",n.length,"persons");var k=n.filter(function(e){return e.name.toUpperCase().indexOf(d.toUpperCase())>-1}),y=function(e){return s.a.delete("/api/persons/".concat(e)).then(function(t){console.log("Mission accomplished!"),Object(u.a)("persons"),n=n.filter(function(t){return t.id!==e}),l(n)})};return o.a.createElement("div",null,o.a.createElement("form",null,"rajaa n\xe4ytett\xe4vi\xe4:"," ",o.a.createElement("input",{value:d,onChange:function(e){S(!C),console.log(e.target.value),b(e.target.value)}})),o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement("div",null,"debug: ",p),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();for(var t=0;t<n.length;t++){if(n[t].content===p)return void alert("".concat(p," on jo listassa!"));if(n[t].number===j)return void alert("".concat(j," on jo listassa!"))}var a={name:p,number:j};s.a.post("/api/persons",a).then(function(e){console.log("response ok",{persons:n,responseData:e.data}),l(n.concat(e.data)),m("")})}},"nimi: ",o.a.createElement("input",{value:p,onChange:function(e){console.log(e.target.value),m(e.target.value)}}),"numero: ",o.a.createElement("input",{value:j,onChange:function(e){console.log(e.target.value),h(e.target.value)}}),o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")),o.a.createElement("h2",null,"Numerot"),o.a.createElement("ul",null,k.map(function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("p",null,e.name," ",e.number," ")," ",o.a.createElement("button",{onClick:function(){return y(e.id)}}," poista "))})))};s.a.get("/api/persons").then(function(e){var t=e.data;console.log(t)}),r.a.render(o.a.createElement(p,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.58d22cda.chunk.js.map