{"version":3,"sources":["App.js","index.js"],"names":["App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","tryName","setTryName","_useState7","_useState8","newTele","setNewTele","_useState9","_useState10","showAll","setShowAll","useEffect","console","log","axios","get","then","response","data","length","namesToShow","filter","pers","name","toUpperCase","indexOf","exterminatus","id","delete","concat","readOnlyError","react_default","a","createElement","value","onChange","event","target","onSubmit","preventDefault","i","content","alert","number","nameObject","post","responseData","type","map","key","onClick","notes","ReactDOM","render","src_App","document","getElementById"],"mappings":"wMAkHeA,EA/GH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTK,EADSH,EAAA,GACAI,EADAJ,EAAA,GAAAK,EAEcN,mBAAS,IAFvBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAETE,EAFSD,EAAA,GAEAE,EAFAF,EAAA,GAAAG,EAGcV,mBAAS,IAHvBW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAGTE,EAHSD,EAAA,GAGAE,EAHAF,EAAA,GAAAG,EAIcd,mBAAS,IAJvBe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAITE,EAJSD,EAAA,GAIAE,EAJAF,EAAA,GAAAG,EAKclB,oBAAS,GALvBmB,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAKTE,EALSD,EAAA,GAKAE,EALAF,EAAA,GAehBG,oBARa,WACXC,QAAQC,IAAI,UACZC,IAAMC,IAAI,gBAAgBC,KAAK,SAAAC,GAC7BL,QAAQC,IAAI,qBACZnB,EAAWuB,EAASC,SAIR,IAEhBN,QAAQC,IAAI,SAAUpB,EAAQ0B,OAAQ,WAEtC,IAAMC,EACF3B,EAAQ4B,OACN,SAAAC,GAAI,OAAIA,EAAKC,KAAKC,cAAcC,QAAQxB,EAAQuB,gBAAkB,IAgBlEE,EAAe,SAAAC,GAAE,OACrBb,IAAMc,OAAN,gBAAAC,OAA6BF,IAAMX,KAAK,SAAAC,GACtCL,QAAQC,IAAI,yBACLtB,OAAAuC,EAAA,EAAAvC,CAAA,WAAPE,EAAUA,EAAQ4B,OAAO,SAAAC,GAAI,OAAIA,EAAKK,KAAOA,IAC7CjC,EAAWD,MAiDf,OACEsC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,0CACqB,IACnBF,EAAAC,EAAAC,cAAA,SAAOC,MAAOjC,EAASkC,SAlBH,SAAAC,GACxB1B,GAAYD,GACZG,QAAQC,IAAIuB,EAAMC,OAAOH,OACzBhC,EAAWkC,EAAMC,OAAOH,WAkBtBH,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,qBAAapC,GACbkC,EAAAC,EAAAC,cAAA,QAAMK,SAvDM,SAAAF,GACdA,EAAMG,iBACN,IAAK,IAAIC,EAAI,EAAGA,EAAI/C,EAAQ0B,OAAQqB,IAAK,CACvC,GAAI/C,EAAQ+C,GAAGC,UAAY5C,EAEzB,YADA6C,MAAK,GAAAb,OAAIhC,EAAJ,qBAGP,GAAIJ,EAAQ+C,GAAGG,SAAWtC,EAExB,YADAqC,MAAK,GAAAb,OAAIxB,EAAJ,qBAKT,IAAMuC,EAAa,CACjBrB,KAAM1B,EACN8C,OAAQtC,GAKVS,IAAM+B,KAAK,eAAgBD,GAAY5B,KAAK,SAAAC,GAC1CL,QAAQC,IAAI,cAAe,CAAEpB,UAASqD,aAAc7B,EAASC,OAC7DxB,EAAWD,EAAQoC,OAAOZ,EAASC,OACnCpB,EAAW,QAgCX,SACQiC,EAAAC,EAAAC,cAAA,SAAOC,MAAOrC,EAASsC,SA7BV,SAAAC,GACvBxB,QAAQC,IAAIuB,EAAMC,OAAOH,OACzBpC,EAAWsC,EAAMC,OAAOH,UA0BtB,WAEUH,EAAAC,EAAAC,cAAA,SAAOC,MAAO7B,EAAS8B,SAhBZ,SAAAC,GACvBxB,QAAQC,IAAIuB,EAAMC,OAAOH,OACzB5B,EAAW8B,EAAMC,OAAOH,UAepBH,EAAAC,EAAAC,cAAA,UAAQc,KAAK,UAAb,gBAGFhB,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UA9EFb,EAAY4B,IAAI,SAAA1B,GAAI,OAClBS,EAAAC,EAAAC,cAAA,OAAKgB,IAAK3B,EAAKK,IACbI,EAAAC,EAAAC,cAAA,SACGX,EAAKC,KADR,IACeD,EAAKqB,OAAQ,KACvB,IACLZ,EAAAC,EAAAC,cAAA,UAAQiB,QAAS,kBAAMxB,EAAaJ,EAAKK,MAAzC,kBC5BRb,IAAMC,IAFU,gBAEGC,KAAK,SAAAC,GACtB,IAAMkC,EAAQlC,EAASC,KACvBN,QAAQC,IAAIsC,KAEdC,IAASC,OAAOtB,EAAAC,EAAAC,cAACqB,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.58d22cda.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [tryName, setTryName] = useState(\"\");\n  const [newTele, setNewTele] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n\n  const hook = () => {\n    console.log(\"effect\");\n    axios.get(\"/api/persons\").then(response => {\n      console.log(\"promise fulfilled\");\n      setPersons(response.data);\n    });\n  };\n\n  useEffect(hook, []);\n\n  console.log(\"render\", persons.length, \"persons\");\n\n  const namesToShow = showAll\n    ? persons.filter(\n        pers => pers.name.toUpperCase().indexOf(tryName.toUpperCase()) > -1\n      )\n    : persons.filter(\n        pers => pers.name.toUpperCase().indexOf(tryName.toUpperCase()) > -1\n      );\n\n  const rows = () =>\n    namesToShow.map(pers => (\n      <div key={pers.id}>\n        <p>\n          {pers.name} {pers.number}{\" \"}\n        </p>{\" \"}\n        <button onClick={() => exterminatus(pers.id)}> poista </button>\n      </div>\n    ));\n\n  const exterminatus = id =>\n    axios.delete(`/api/persons/${id}`).then(response => {\n      console.log(\"Mission accomplished!\");\n      persons = persons.filter(pers => pers.id !== id);\n      setPersons(persons);\n    });\n\n  const addName = event => {\n    event.preventDefault();\n    for (var i = 0; i < persons.length; i++) {\n      if (persons[i].content === newName) {\n        alert(`${newName} on jo listassa!`);\n        return;\n      }\n      if (persons[i].number === newTele) {\n        alert(`${newTele} on jo listassa!`);\n        return;\n      }\n    }\n\n    const nameObject = {\n      name: newName,\n      number: newTele\n      //date: new Date().toISOString(),\n      //important: Math.random() > 0.5,\n    };\n\n    axios.post(\"/api/persons\", nameObject).then(response => {\n      console.log(\"response ok\", { persons, responseData: response.data });\n      setPersons(persons.concat(response.data));\n      setNewName(\"\");\n    });\n  };\n\n  const handleNameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNameChange2 = event => {\n    setShowAll(!showAll);\n    console.log(event.target.value);\n    setTryName(event.target.value);\n    //persons.filter(\n    //  pers => pers.content.toUpperCase().indexOf(tryName.toUpperCase()) > -1\n    //);\n  };\n\n  const handleTeleChange = event => {\n    console.log(event.target.value);\n    setNewTele(event.target.value);\n  };\n\n  return (\n    <div>\n      <form>\n        rajaa näytettäviä:{\" \"}\n        <input value={tryName} onChange={handleNameChange2} />\n      </form>\n\n      <h2>Puhelinluettelo</h2>\n      <div>debug: {newName}</div>\n      <form onSubmit={addName}>\n        nimi: <input value={newName} onChange={handleNameChange} />\n        numero: <input value={newTele} onChange={handleTeleChange} />\n        <button type=\"submit\">lisää</button>\n      </form>\n\n      <h2>Numerot</h2>\n      <ul>{rows()}</ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport axios from \"axios\";\nconst baseUrl = '/api/persons';\n\naxios.get(baseUrl).then(response => {\n  const notes = response.data;\n  console.log(notes);\n});\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}